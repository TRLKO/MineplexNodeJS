Hey, so I will would just like to say this is definitely not the best code in the world.
I didn't spend time on performance, quality, or neatness, just the bare-bone functionality.

Things such as punish I haven't tested because the code I use doesn't use the web files, it goes directly to the db.